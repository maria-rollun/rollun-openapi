#!/usr/bin/env php
<?php

// TODO
if (file_exists(dirname(__DIR__) . '/vendor/autoload.php')) {
    chdir(dirname(__DIR__));
} elseif (file_exists(dirname(__DIR__, 4) . '/vendor/autoload.php')) {
    chdir(dirname(__DIR__, 4));
} else {
    throw new \Exception("Can't find 'vendor/autoload.php' file");
}

require dirname(__DIR__) . '/vendor/autoload.php';

use Symfony\Component\Console\Application;

$application = new Application();

$application->add(new \OpenAPI\Generator\GenerateClientCommand(
    new \OpenAPI\Generator\GeneratorBuilder())
);
$application->add(new \OpenAPI\Generator\GenerateServerCommand(
    new \OpenAPI\Generator\GeneratorBuilder())
);

$application->run();